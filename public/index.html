<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" />
  <link rel="stylesheet" href="css/styles.css" />
  <title>Chat Login</title>
</head>

<body class="text-left flex flex-col items-center">
  <form id="nicknameForm" class="form-signin border border-gray-50 mt-5">

    <div class="my-4 mx-4">
    <div class="flex flex-col">
      <h4 class="text-left text-[16px]">
      Login to Chat
      </h4>
      <p class="text-left text-gray">
        Please enter your username
      </p>
    </div>

    <label for="nicknameInput" class="sr-only">Username</label>
    <input type="text" name="nickname" id="nicknameInput" class="form-control" placeholder="Username" required autofocus />
    <!-- Chat Room Selection -->
    <label class="mt-4 text-sm"  for="chatrooms">Choose a Chat Room</label>
    <br />
    
    <div class="flex flex-row gap-2 mt-2">
      <select name="chatrooms" id="chatrooms" class="form-select">
        <optgroup>
          <option value="room1">Chat Room 1</option>
          <option value="room2">Chat Room 2</option>
          <option value="room3">Chat Room 3</option>
        </optgroup>
      </select>

      <button class="p-2 px-4 mt-2 rounded-sm btn text-white btn-primary border border-gray-50" type="submit">
        Enter Chat
      </button>
    </div>
  </div>
  </form>
  <script>
    const nicknameForm = document.getElementById("nicknameForm");
    const nicknameInput = document.getElementById("nicknameInput");
    const chatroom = document.getElementById("chatrooms");

    nicknameForm.addEventListener("submit", (e) => {
      e.preventDefault();
      if (nicknameInput.value) {
        localStorage.setItem("nickname", nicknameInput.value);
        localStorage.setItem("chatroom", chatroom.value);
        window.location.replace("/chat.html");
      }
    });
  </script>
</body>

</html>